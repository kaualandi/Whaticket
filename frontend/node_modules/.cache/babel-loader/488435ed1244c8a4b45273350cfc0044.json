{"ast":null,"code":"var _jsxFileName = \"/Users/kaualandi/dev/atendechat-novo-main/frontend/src/components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { socketConnection } from \"../../../services/socket\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\nfunction CheckoutSuccess(props) {\n  const {\n    pix\n  } = props;\n  const [pixString] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n  const {\n    dateToClient\n  } = useDate();\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({\n      companyId\n    });\n    socket.on(`company-${companyId}-payment`, data => {\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history]);\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Total, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"R$\", pix.valor.original.toLocaleString('pt-br', {\n    minimumFractionDigits: 2\n  }))), /*#__PURE__*/React.createElement(SuccessContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(QRCode, {\n    value: pixString,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CopyToClipboard, {\n    text: pixString,\n    onCopy: handleCopyQR,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"copy-button\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, copied ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Copiado\"), /*#__PURE__*/React.createElement(FaCheckCircle, {\n    size: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Copiar c\\xF3digo QR\"), /*#__PURE__*/React.createElement(FaCopy, {\n    size: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Para finalizar, basta realizar o pagamento escaneando ou colando o c\\xF3digo Pix acima :)\")));\n}\nexport default CheckoutSuccess;","map":{"version":3,"names":["React","useState","useEffect","useHistory","QRCode","SuccessContent","Total","CopyToClipboard","FaCopy","FaCheckCircle","socketConnection","useDate","toast","CheckoutSuccess","props","pix","pixString","qrcode","copied","setCopied","history","dateToClient","companyId","localStorage","getItem","socket","on","data","action","success","company","dueDate","setTimeout","push","handleCopyQR","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","valor","original","toLocaleString","minimumFractionDigits","value","text","onCopy","className","type","size"],"sources":["/Users/kaualandi/dev/atendechat-novo-main/frontend/src/components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { socketConnection } from \"../../../services/socket\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}