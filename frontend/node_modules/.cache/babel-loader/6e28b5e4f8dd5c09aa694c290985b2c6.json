{"ast":null,"code":"var _jsxFileName = \"/Users/kaualandi/dev/atendechat-novo-main/frontend/src/pages/Dashboard/Chart.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { BarChart, CartesianGrid, Bar, XAxis, YAxis, Label, ResponsiveContainer } from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\nimport { i18n } from \"../../translate/i18n\";\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\nconst Chart = () => {\n  const theme = useTheme();\n  const date = useRef(new Date().toISOString());\n  const {\n    tickets\n  } = useTickets({\n    date: date.current\n  });\n  const [chartData, setChartData] = useState([{\n    time: \"01:00\",\n    amount: 0\n  }, {\n    time: \"02:00\",\n    amount: 0\n  }, {\n    time: \"03:00\",\n    amount: 0\n  }, {\n    time: \"04:00\",\n    amount: 0\n  }, {\n    time: \"05:00\",\n    amount: 0\n  }, {\n    time: \"06:00\",\n    amount: 0\n  }, {\n    time: \"07:00\",\n    amount: 0\n  }, {\n    time: \"08:00\",\n    amount: 0\n  }, {\n    time: \"09:00\",\n    amount: 0\n  }, {\n    time: \"10:00\",\n    amount: 0\n  }, {\n    time: \"11:00\",\n    amount: 0\n  }, {\n    time: \"12:00\",\n    amount: 0\n  }, {\n    time: \"13:00\",\n    amount: 0\n  }, {\n    time: \"14:00\",\n    amount: 0\n  }, {\n    time: \"15:00\",\n    amount: 0\n  }, {\n    time: \"16:00\",\n    amount: 0\n  }, {\n    time: \"17:00\",\n    amount: 0\n  }, {\n    time: \"18:00\",\n    amount: 0\n  }, {\n    time: \"19:00\",\n    amount: 0\n  }, {\n    time: \"20:00\",\n    amount: 0\n  }, {\n    time: \"21:00\",\n    amount: 0\n  }, {\n    time: \"22:00\",\n    amount: 0\n  }, {\n    time: \"23:00\",\n    amount: 0\n  }, {\n    time: \"00:00\",\n    amount: 0\n  }]);\n  useEffect(() => {\n    setChartData(prevState => {\n      let aux = [...prevState];\n      aux.forEach(a => {\n        tickets.forEach(ticket => {\n          format(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time && a.amount++;\n        });\n      });\n      return aux;\n    });\n  }, [tickets]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }\n  }, `${i18n.t(\"dashboard.charts.perDay.title\")}${tickets.length}`), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: chartData,\n    barSize: 40,\n    width: 730,\n    height: 250,\n    margin: {\n      top: 16,\n      right: 16,\n      bottom: 0,\n      left: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"time\",\n    stroke: theme.palette.text.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    type: \"number\",\n    allowDecimals: false,\n    stroke: theme.palette.text.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    angle: 270,\n    position: \"left\",\n    style: {\n      textAnchor: \"middle\",\n      fill: theme.palette.text.primary\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, \"Tickets\")), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"amount\",\n    fill: theme.palette.primary.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 6\n    }\n  }))));\n};\nexport default Chart;","map":{"version":3,"names":["React","useState","useEffect","useRef","useTheme","BarChart","CartesianGrid","Bar","XAxis","YAxis","Label","ResponsiveContainer","startOfHour","parseISO","format","i18n","Title","useTickets","Chart","theme","date","Date","toISOString","tickets","current","chartData","setChartData","time","amount","prevState","aux","forEach","a","ticket","createdAt","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","t","length","data","barSize","width","height","margin","top","right","bottom","left","strokeDasharray","dataKey","stroke","palette","text","secondary","type","allowDecimals","angle","position","style","textAnchor","fill","primary","main"],"sources":["/Users/kaualandi/dev/atendechat-novo-main/frontend/src/pages/Dashboard/Chart.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t\t{ time: \"00:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}